Iteration and listcols
================

## Lists

You can ut anything in a list.

``` r
## concept: lists can store anything.
vec_numeric = 5:8
vec_logical = c(TRUE, TRUE, FALSE, TRUE, FALSE, FALSE)
mat = matrix(1:8, nrow = 2, ncol = 4)
summary = summary(rnorm(100))

##these are all different kinds of lists, different contents and forms
##can't put these in a dataframe but can put in a list

l = list(
  vec_numeric = 5:8,
  vec_logical = c(TRUE, TRUE, FALSE, TRUE, FALSE, FALSE),
  mat = matrix(1:8, nrow = 2, ncol = 4),
  summary = summary(rnorm(100))
)
```

``` r
l
```

    ## $vec_numeric
    ## [1] 5 6 7 8
    ## 
    ## $vec_logical
    ## [1]  TRUE  TRUE FALSE  TRUE FALSE FALSE
    ## 
    ## $mat
    ##      [,1] [,2] [,3] [,4]
    ## [1,]    1    3    5    7
    ## [2,]    2    4    6    8
    ## 
    ## $summary
    ##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    ## -3.2253 -0.4136  0.1070  0.1168  0.6794  2.6966

``` r
l$vec_numeric
```

    ## [1] 5 6 7 8

``` r
l[[1]]
```

    ## [1] 5 6 7 8

``` r
l[["vec_numeric"]]
```

    ## [1] 5 6 7 8

``` r
l[["vec_numeric"]][1:3]
```

    ## [1] 5 6 7

``` r
mean(l[["vec_numeric"]])
```

    ## [1] 6.5

``` r
## you can do whatevr you normally do to individual elements of a list
```

## `for` loop

Create a new list.

``` r
list_norm = 
  list(
    a = rnorm(20, mean = 3, sd = 1),
    b = rnorm(30, mean = 0, sd = 5),
    c = rnorm(40, mean = 10, sd = .2),
    d = rnorm(20, mean = -3, sd = 1)
  )
```

``` r
list_norm[[1]]
```

    ##  [1] 1.787743 2.724241 3.974766 2.745742 3.515834 3.917274 4.193099 3.403322
    ##  [9] 3.464699 3.496290 3.716510 4.474008 1.753537 3.673576 3.485990 3.319290
    ## [17] 4.119965 2.326420 1.113446 3.239320

``` r
list_norm
```

    ## $a
    ##  [1] 1.787743 2.724241 3.974766 2.745742 3.515834 3.917274 4.193099 3.403322
    ##  [9] 3.464699 3.496290 3.716510 4.474008 1.753537 3.673576 3.485990 3.319290
    ## [17] 4.119965 2.326420 1.113446 3.239320
    ## 
    ## $b
    ##  [1] -3.24507853 -0.05875027  5.41911117 -1.38863232  3.41648799 -0.38495827
    ##  [7]  4.89792057 -3.31132313 -2.43407211 -0.43224561  1.02351921 10.79256166
    ## [13] -0.87651119 -1.47063317  1.49337573  9.31766449  3.73722116  1.51082656
    ## [19] -0.16334333 -2.17666136 14.54284520  5.42170118 -3.51634367  5.53811155
    ## [25]  4.37357048 -6.44387563  4.71740637 -8.22542232 -5.82032197 -1.54104442
    ## 
    ## $c
    ##  [1]  9.759726  9.870509  9.884766  9.697637  9.748858  9.925172 10.080603
    ##  [8] 10.119000 10.059109  9.942301  9.855286  9.958642 10.013618  9.674393
    ## [15]  9.780439 10.161288  9.892113  9.882994  9.790242 10.258675  9.775315
    ## [22]  9.662081 10.126874 10.352473  9.825512 10.000433  9.898753 10.109050
    ## [29]  9.901494  9.918964  9.916426 10.194668  9.892004  9.964185 10.130797
    ## [36] 10.048715 10.251359  9.969535  9.667804  9.822841
    ## 
    ## $d
    ##  [1] -3.1770902 -4.3381121 -3.4801622 -3.1259325 -3.5212307 -5.3751783
    ##  [7] -1.6209193 -2.5281316 -4.8916209 -2.6045726 -3.9258400 -0.7253407
    ## [13] -1.9965326 -2.3531082 -3.1681122 -3.1345409 -3.6346883 -4.7529845
    ## [19] -1.4333607 -2.7404525

Pause and get my old function.

``` r
mean_and_sd = function(x) {
  
  if (!is.numeric(x)) {
    stop("Input must be numeric")
  }
  
  if (length(x) < 3) {
    stop("Input must have at least three numbers")
  }

  mean_x = mean(x)
  sd_x = sd(x)
 
  tibble(
    mean = mean_x,
    sd = sd_x
  )
  
}
```

I can apply that function to each list element.

``` r
list_norm[[1]]
```

    ##  [1] 1.787743 2.724241 3.974766 2.745742 3.515834 3.917274 4.193099 3.403322
    ##  [9] 3.464699 3.496290 3.716510 4.474008 1.753537 3.673576 3.485990 3.319290
    ## [17] 4.119965 2.326420 1.113446 3.239320

``` r
list_norm[[2]]
```

    ##  [1] -3.24507853 -0.05875027  5.41911117 -1.38863232  3.41648799 -0.38495827
    ##  [7]  4.89792057 -3.31132313 -2.43407211 -0.43224561  1.02351921 10.79256166
    ## [13] -0.87651119 -1.47063317  1.49337573  9.31766449  3.73722116  1.51082656
    ## [19] -0.16334333 -2.17666136 14.54284520  5.42170118 -3.51634367  5.53811155
    ## [25]  4.37357048 -6.44387563  4.71740637 -8.22542232 -5.82032197 -1.54104442

``` r
list_norm[[3]]
```

    ##  [1]  9.759726  9.870509  9.884766  9.697637  9.748858  9.925172 10.080603
    ##  [8] 10.119000 10.059109  9.942301  9.855286  9.958642 10.013618  9.674393
    ## [15]  9.780439 10.161288  9.892113  9.882994  9.790242 10.258675  9.775315
    ## [22]  9.662081 10.126874 10.352473  9.825512 10.000433  9.898753 10.109050
    ## [29]  9.901494  9.918964  9.916426 10.194668  9.892004  9.964185 10.130797
    ## [36] 10.048715 10.251359  9.969535  9.667804  9.822841

``` r
list_norm[[4]]
```

    ##  [1] -3.1770902 -4.3381121 -3.4801622 -3.1259325 -3.5212307 -5.3751783
    ##  [7] -1.6209193 -2.5281316 -4.8916209 -2.6045726 -3.9258400 -0.7253407
    ## [13] -1.9965326 -2.3531082 -3.1681122 -3.1345409 -3.6346883 -4.7529845
    ## [19] -1.4333607 -2.7404525

``` r
mean_and_sd(list_norm[[1]])
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.22 0.891

``` r
mean_and_sd(list_norm[[2]])
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  1.16  5.11

``` r
mean_and_sd(list_norm[[3]])
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  9.94 0.172

``` r
mean_and_sd(list_norm[[4]])
```

    ## # A tibble: 1 x 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 -3.13  1.19

``` r
## so applying a function to each of my list items - that's fine.  With 4 lists, that's ok, but if 40 lists, more tedious. so, let's use a for loop.
```

Letâ€™s use a for loop:

``` r
output = vector("list", length = 4)

for (i in 1:4) {
  
  output[[i]] = mean_and_sd(list_norm[[i]])

}
```
